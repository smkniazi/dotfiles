#!/bin/bash
alias gd="PAGER='diff-so-fancy | less --tabs=4 -RFX' git diff"
alias gl="PAGER='less -S' git log --color --date=format:'%d-%b-%Y' --pretty=format:'%Cred%h%Creset %Cgreen[%ad] %C(bold blue)%<(12,trunc)%aN%Creset %s %n ' --abbrev-commit --"
alias gs="git status"
alias gp="git pull"
#alias tig="tig --after=2020"

#git commit
gc() {
	if [ "$#" -ne 0 ]; then
		git commit -am "$@" 
	else
		git commit -am "Auto generated commit msg." 
	fi
}

gcp (){
	gc "$@"
	git push
}


gb (){
local refs="refs/heads refs/remotes/origin"
if [[ -n $1 ]]; then
    if [[ "$1" = "all" ]]; then
        refs=""
    else
        echo "Usage gb [all]"
        return
    fi
fi
local command="git for-each-ref --sort=committerdate $refs --format='%(contents:subject)%0a%(color:yellow)%(refname:short)%(color:reset) [%(color:green)%(committerdate:relative)%(color:reset)]%0a' | tac | less -r -S"
eval "$command"
}
